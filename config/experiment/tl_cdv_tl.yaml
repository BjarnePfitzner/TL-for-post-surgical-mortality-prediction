# @package _global_

defaults:
  - override /hydra/sweeper: wandb
  - override /training: transfer_learning
  - override /dataset: tl
  - override /dp: disabled
  - override /early_stopping: enabled

experiment_name: CDV_tl
#base_model_path: outputs_nested_cv_eso/CDV_base_training/unknown_sweep/tl_cdv_base_alldata_0/trained_model
#base_model_path: outputs_nested_cv_liver/CDV_base_training/unknown_sweep/tl_cdv_base_0/trained_model
#base_model_path: outputs_nested_cv_colorectal/CDV_base_training/unknown_sweep/Colorectal_tl_cdv_base_6/trained_model
#base_model_path: outputs_nested_cv_colorectal/CDV_base_training/unknown_sweep/Pancreas_tl_cdv_base_9/trained_model
base_model_path: outputs_nested_cv_colorectal/CDV_base_training/unknown_sweep/Stomach_tl_cdv_base_4/trained_model
save_model: False
output_folder: outputs_nested_cv_pancreas

dataset:
  prediction_target: clavien_dindo_v
  feature_set: [pre]
  tl_organ_system: Gastric

training:
  batch_size: 128
  client_optimizer:
    _target_: tensorflow.keras.optimizers.SGD
    learning_rate: 0.05
  tl_type: out_layer_fine_tune

model:
  dropout: 0.0
  dropout_input: 0.5
  neurons: [128]

hydra:
  sweeper:
    params:
      training.batch_size:
        - 8
        - 16
        - 32
        - 64
        - 128
      training.client_optimizer.learning_rate:
        - 0.001
        - 0.005
        - 0.01
        - 0.05
        - 0.1
      training.client_optimizer._target_:
        - tensorflow.keras.optimizers.SGD
        - tensorflow.keras.optimizers.Adam
      training.tl_type:
        - full_fine_tune
        - out_layer_fine_tune
        - new_out_layer
      zeed:
        - 0
        - 1
        - 2
        - 3
        - 4