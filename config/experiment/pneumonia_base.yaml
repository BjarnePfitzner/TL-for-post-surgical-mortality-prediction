# @package _global_

defaults:
  - override /hydra/sweeper: wandb
  - override /training: base_training
  - override /dataset: tl
  - override /dp: disabled
  - override /early_stopping: enabled

experiment_name: pneumonia_base_training

dataset:
  prediction_target: pneumonia
  feature_set: [pre]

training:
  batch_size: 16
  client_optimizer:
    _target_: tensorflow.keras.optimizers.Adam
    learning_rate: 0.005

model:
  dropout: 0.5
  dropout_input: 0.2
  neurons: [128, 64]

hydra:
  sweeper:
    params:
      training.batch_size:
        - 16
        - 32
        - 64
        - 128
      training.client_optimizer.learning_rate:
        - 0.005
        - 0.01
        - 0.05
      model.neurons:
        - [64]
        - [64, 64]
        - [128]
        - [128, 64]
        - [128, 64, 32]
      model.dropout:
        - 0.0
        - 0.2
        - 0.5
      model.dropout_input:
        - 0.0
        - 0.2
      training.client_optimizer._target_:
        - tensorflow.keras.optimizers.SGD
        - tensorflow.keras.optimizers.Adam